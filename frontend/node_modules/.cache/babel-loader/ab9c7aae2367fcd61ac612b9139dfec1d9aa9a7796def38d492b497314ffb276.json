{"ast":null,"code":"import{React,useEffect}from'react';import{useParams}from'react-router-dom';import FilesChat from'../components/FilesChat';import axios from'axios';import{handleError}from'../utils/errorHandler';import{jsx as _jsx}from\"react/jsx-runtime\";function FilesChatContainer(_ref){let{sharedFiles,setSharedFiles}=_ref;const{roomCode}=useParams();useEffect(()=>{async function fetchFiles(){try{const{data}=await axios.get(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/room/\").concat(roomCode));if(data.error){throw new Error(\"Failed to fetch files: \".concat(data.error));}setSharedFiles(data.files);}catch(error){handleError(error,'Faild to fetch files');}}if(sharedFiles.length===0){fetchFiles();}},[]);return/*#__PURE__*/_jsx(FilesChat,{sharedFiles:sharedFiles});}export default FilesChatContainer;","map":{"version":3,"names":["React","useEffect","useParams","FilesChat","axios","handleError","jsx","_jsx","FilesChatContainer","_ref","sharedFiles","setSharedFiles","roomCode","fetchFiles","data","get","concat","process","env","REACT_APP_API_BASE_URL","error","Error","files","length"],"sources":["C:/Users/WADREN/Desktop/brrr/react/myreactdd/frontend/src/containers/FileChatContainer.js"],"sourcesContent":["import { React, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport FilesChat from '../components/FilesChat';\r\nimport axios from 'axios';\r\nimport { handleError } from '../utils/errorHandler';\r\n\r\nfunction FilesChatContainer({ sharedFiles, setSharedFiles }) {\r\n  const { roomCode } = useParams()\r\n  \r\n  useEffect(() => {\r\n    async function fetchFiles() {\r\n      try {\r\n        const { data } = await axios.get(`${process.env.REACT_APP_API_BASE_URL}/room/${roomCode}`)\r\n\r\n        if (data.error) {\r\n          throw new Error(`Failed to fetch files: ${data.error}`)\r\n        }\r\n\r\n        setSharedFiles(data.files)\r\n      } catch (error) {\r\n        handleError(error, 'Faild to fetch files')\r\n      }\r\n    }\r\n    if (sharedFiles.length === 0) {\r\n        fetchFiles();\r\n      }\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <FilesChat sharedFiles={ sharedFiles }/>\r\n  );\r\n}\r\n\r\nexport default FilesChatContainer;\r\n"],"mappings":"AAAA,OAASA,KAAK,CAAEC,SAAS,KAAQ,OAAO,CACxC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,QAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAkC,IAAjC,CAAEC,WAAW,CAAEC,cAAe,CAAC,CAAAF,IAAA,CACzD,KAAM,CAAEG,QAAS,CAAC,CAAGV,SAAS,CAAC,CAAC,CAEhCD,SAAS,CAAC,IAAM,CACd,cAAe,CAAAY,UAAUA,CAAA,CAAG,CAC1B,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,WAAAH,MAAA,CAASJ,QAAQ,CAAE,CAAC,CAE1F,GAAIE,IAAI,CAACM,KAAK,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,2BAAAL,MAAA,CAA2BF,IAAI,CAACM,KAAK,CAAE,CAAC,CACzD,CAEAT,cAAc,CAACG,IAAI,CAACQ,KAAK,CAAC,CAC5B,CAAE,MAAOF,KAAK,CAAE,CACdf,WAAW,CAACe,KAAK,CAAE,sBAAsB,CAAC,CAC5C,CACF,CACA,GAAIV,WAAW,CAACa,MAAM,GAAK,CAAC,CAAE,CAC1BV,UAAU,CAAC,CAAC,CACd,CACJ,CAAC,CAAE,EAAE,CAAC,CAGN,mBACEN,IAAA,CAACJ,SAAS,EAACO,WAAW,CAAGA,WAAa,CAAC,CAAC,CAE5C,CAEA,cAAe,CAAAF,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}